module.exports=[96088,a=>{"use strict";var b=a.i(31134),c=a.i(79227),d=a.i(86922),e=a.i(19161),f=a.i(79971),g=a.i(85639),h=a.i(37717),i=a.i(61178),j=a.i(17711),k=a.i(78372),l=a.i(18534),m=a.i(69805),n=a.i(20912),o=a.i(27205),p=a.i(44174),q=a.i(97068),r="Switch",[s,t]=(0,n.createContextScope)(r),[u,v]=s(r),w=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:h,required:i,disabled:j,value:k="on",onCheckedChange:n,form:p,...s}=a,[t,v]=c.useState(null),w=(0,m.useComposedRefs)(d,a=>v(a)),x=c.useRef(!1),y=!t||p||!!t.closest("form"),[B,C]=(0,o.useControllableState)({prop:g,defaultProp:h??!1,onChange:n,caller:r});return(0,b.jsxs)(u,{scope:e,checked:B,disabled:j,children:[(0,b.jsx)(q.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":i,"data-state":A(B),"data-disabled":j?"":void 0,disabled:j,value:k,...s,ref:w,onClick:(0,l.composeEventHandlers)(a.onClick,a=>{C(a=>!a),y&&(x.current=a.isPropagationStopped(),x.current||a.stopPropagation())})}),y&&(0,b.jsx)(z,{control:t,bubbles:!x.current,name:f,value:k,checked:B,required:i,disabled:j,form:p,style:{transform:"translateX(-100%)"}})]})});w.displayName=r;var x="SwitchThumb",y=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=v(x,d);return(0,b.jsx)(q.Primitive.span,{"data-state":A(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});y.displayName=x;var z=c.forwardRef(({__scopeSwitch:a,control:d,checked:e,bubbles:f=!0,...g},h)=>{let i,j=c.useRef(null),k=(0,m.useComposedRefs)(j,h),l=(i=c.useRef({value:e,previous:e}),c.useMemo(()=>(i.current.value!==e&&(i.current.previous=i.current.value,i.current.value=e),i.current.previous),[e])),n=(0,p.useSize)(d);return c.useEffect(()=>{let a=j.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[l,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:k,style:{...g.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function A(a){return a?"checked":"unchecked"}z.displayName="SwitchBubbleInput";var B=a.i(49417);let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(w,{className:(0,B.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",a),...c,ref:d,children:(0,b.jsx)(y,{className:(0,B.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));C.displayName=w.displayName;var D=a.i(70114),E=a.i(55980),F=a.i(40221),G=a.i(10471);let H=(0,G.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var I=a.i(24848);let J=(0,G.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),K=(0,G.default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),L=(0,G.default)("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]),M=(0,G.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var N=a.i(99601),O=a.i(50979);let P=(0,G.default)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Q=(0,G.default)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);var R=a.i(69442);let S=(0,G.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),T=(0,G.default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),U=(0,G.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),V=(0,G.default)("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);var W=a.i(59585);function X(){let{user:a,isAdmin:l,isSeller:m,loading:n}=(0,d.useAuth)();(0,f.useRouter)();let[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)("items"),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[G,X]=(0,c.useState)(!0),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)([]),[aa,ab]=(0,c.useState)({label:"",code:"",hours:"24"}),[ac,ad]=(0,c.useState)({name:"",description:"",image_url:""}),[ae,af]=(0,c.useState)(null),[ag,ah]=(0,c.useState)({name:"",description:"",price:"",category_id:"",image_url:"",is_veg:!0,is_available:!0}),[ai,aj]=(0,c.useState)(!1),[ak,al]=(0,c.useState)(""),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)(null),[aq,ar]=(0,c.useState)(!1),[as,at]=(0,c.useState)(!1),au=(0,c.useRef)(null),av=(0,c.useRef)(null),aw=async()=>{let{data:a}=await e.supabase.from("menu_categories").select("*").order("sort_order");a&&x(a)},ax=async()=>{let{data:a}=await e.supabase.from("food_items").select("*").order("sort_order");a&&z(a)},ay=async()=>{let{data:a}=await e.supabase.from("orders").select("*").order("created_at",{ascending:!1});a&&B(a)},az=async()=>{await Promise.all([aw(),ax(),ay()]),X(!1)},[aA,aB]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o&&(aB(!0),az())},[o]),(0,c.useEffect)(()=>{let a=e.supabase.channel("admin-orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>{ay()}).subscribe();return()=>{e.supabase.removeChannel(a)}},[]);let aC=async a=>{at(!0);try{let b=await W.api.uploadImage(a);return D.toast.success("Photo uploaded!"),b.url}catch(a){return D.toast.error(a.message||"Upload failed"),null}finally{at(!1)}},aD=async()=>{if(!ac.name.trim())return void D.toast.error("Category name required");if(ae){let{error:a}=await e.supabase.from("menu_categories").update(ac).eq("id",ae);if(a)return void D.toast.error(a.message);D.toast.success("Category updated")}else{let{error:a}=await e.supabase.from("menu_categories").insert(ac);if(a)return void D.toast.error(a.message);D.toast.success("Category added")}ad({name:"",description:"",image_url:""}),af(null),aw()},aE=async a=>{let{error:b}=await e.supabase.from("menu_categories").delete().eq("id",a);b?D.toast.error(b.message):(D.toast.success("Category deleted"),aw(),ax())},aF=async()=>{if(!ag.name.trim()||!ag.category_id)return void D.toast.error("Name and category are required");if(ai){if(!ak||!am)return void D.toast.error("Both Half and Full prices are required");let a=ag.name.replace(/\s*\((Half|Full)\)\s*/i,"").trim(),b={description:ag.description,category_id:ag.category_id,image_url:ag.image_url,is_veg:ag.is_veg,is_available:ag.is_available};if(ao){let c=y.filter(b=>b.category_id===ag.category_id&&b.name.replace(/\s*\((Half|Full)\)\s*/i,"").trim()===a),d=c.find(a=>a.name.includes("(Half)")),f=c.find(a=>a.name.includes("(Full)"));d?await e.supabase.from("food_items").update({...b,name:`${a} (Half)`,price:parseFloat(ak)}).eq("id",d.id):await e.supabase.from("food_items").insert({...b,name:`${a} (Half)`,price:parseFloat(ak)}),f?await e.supabase.from("food_items").update({...b,name:`${a} (Full)`,price:parseFloat(am)}).eq("id",f.id):await e.supabase.from("food_items").insert({...b,name:`${a} (Full)`,price:parseFloat(am)}),D.toast.success("Item updated with variants")}else{let{error:c}=await e.supabase.from("food_items").insert({...b,name:`${a} (Half)`,price:parseFloat(ak)}),{error:d}=await e.supabase.from("food_items").insert({...b,name:`${a} (Full)`,price:parseFloat(am)});if(c||d)return void D.toast.error(c?.message||d?.message||"Error");D.toast.success("Item added with Half/Full variants")}}else{if(!ag.price)return void D.toast.error("Price is required");let a={...ag,price:parseFloat(ag.price)};if(ao){let{error:b}=await e.supabase.from("food_items").update(a).eq("id",ao);if(b)return void D.toast.error(b.message);D.toast.success("Item updated")}else{let{error:b}=await e.supabase.from("food_items").insert(a);if(b)return void D.toast.error(b.message);D.toast.success("Item added")}}ah({name:"",description:"",price:"",category_id:"",image_url:"",is_veg:!0,is_available:!0}),aj(!1),al(""),an(""),ap(null),ar(!1),ax()},aG=async a=>{let{error:b}=await e.supabase.from("food_items").delete().eq("id",a);b?"23503"===b.code?(D.toast.error("Item has orders and cannot be deleted. Deactivating it instead."),await e.supabase.from("food_items").update({is_available:!1}).eq("id",a),ax()):D.toast.error(b.message):(D.toast.success("Item deleted"),ax())},aH=async(a,b)=>{let{error:c}=await e.supabase.from("orders").update({status:b}).eq("id",a);c?D.toast.error(c.message):(D.toast.success(`Order ${b}`),ay())},aI=async a=>{let{error:b}=await e.supabase.from("order_items").delete().eq("order_id",a);if(b)return void D.toast.error(b.message);let{error:c}=await e.supabase.from("orders").delete().eq("id",a);c?D.toast.error(c.message):(D.toast.success("Order deleted"),ay())},aJ=async()=>{if("henakhan@@@2050"===q){p(!0),Z(!1),t(!1);return}let{data:a}=await e.supabase.from("admin_access_codes").select("*").eq("code",q).eq("is_active",!0).gt("expires_at",new Date().toISOString()).limit(1);a&&a.length>0?(p(!0),Z(!0),t(!1)):t(!0)},aK=async()=>{let{data:a}=await e.supabase.from("admin_access_codes").select("*").order("created_at",{ascending:!1});a&&_(a)},aL=async()=>{if(!aa.label.trim()||!aa.code.trim())return void D.toast.error("Label and code are required");let a=parseInt(aa.hours)||24,b=new Date(Date.now()+60*a*6e4).toISOString(),{error:c}=await e.supabase.from("admin_access_codes").insert({label:aa.label,code:aa.code,expires_at:b});c?D.toast.error(c.message):(D.toast.success("Access code created!"),ab({label:"",code:"",hours:"24"}),aK())},aM=async a=>{let{error:b}=await e.supabase.from("admin_access_codes").delete().eq("id",a);b?D.toast.error(b.message):(D.toast.success("Code deleted"),aK())},aN=async(a,b)=>{let{error:c}=await e.supabase.from("admin_access_codes").update({is_active:!b}).eq("id",a);c?D.toast.error(c.message):aK()};if((0,c.useEffect)(()=>{"access"===u&&aK()},[u]),n)return(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,b.jsx)(E.Loader2,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:(0,b.jsxs)("div",{className:"bg-card rounded-2xl p-8 sm:p-10 border border-border/50 w-full max-w-sm shadow-2xl shadow-primary/5",children:[(0,b.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,b.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 border border-primary/20 flex items-center justify-center",children:(0,b.jsx)(M,{className:"w-9 h-9 text-primary"})})}),(0,b.jsx)("h2",{className:"font-display text-2xl font-bold text-center mb-1 text-foreground",children:"Admin Access"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm text-center mb-8",children:"Enter password to continue"}),(0,b.jsx)(i.Input,{type:"password",placeholder:"Enter admin password",value:q,onChange:a=>{r(a.target.value),t(!1)},onKeyDown:a=>"Enter"===a.key&&aJ(),className:`h-12 rounded-xl bg-muted/30 border-border/50 ${s?"border-destructive":""}`}),s&&(0,b.jsx)("p",{className:"text-destructive text-xs mt-2",children:"Wrong password"}),(0,b.jsx)(h.Button,{className:"w-full mt-4 btn-premium h-12 rounded-xl text-base",onClick:aJ,children:"Unlock Dashboard"})]})});if(n||!aA||G)return(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,b.jsx)(E.Loader2,{className:"w-8 h-8 animate-spin text-primary"})});let aO=A.filter(a=>"pending"===a.status).length,aP=A.filter(a=>"paid"===a.payment_status).reduce((a,b)=>a+b.total_amount,0),aQ=[{icon:N.ChefHat,label:"Menu Items",value:y.length,color:"text-primary",bg:"bg-primary/10 border-primary/20"},{icon:O.ShoppingBag,label:"Total Orders",value:A.length,color:"text-foreground",bg:"bg-muted/10 border-border/20"},{icon:R.Clock,label:"Pending",value:aO,color:"text-yellow-500",bg:"bg-yellow-500/10 border-yellow-500/20"},{icon:Q,label:"Revenue",value:`â‚¹${aP.toLocaleString("en-IN")}`,color:"text-primary",bg:"bg-primary/10 border-primary/20"}],aR=[{key:"items",label:"Items",icon:N.ChefHat,count:y.length},{key:"categories",label:"Categories",icon:P,count:w.length},{key:"orders",label:"Orders",icon:O.ShoppingBag,count:aO||void 0},...Y?[]:[{key:"access",label:"Access",icon:T}]];return(0,b.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("div",{className:"pt-24 pb-16 container mx-auto px-4 sm:px-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"font-display text-3xl sm:text-4xl font-bold text-foreground",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage your restaurant"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground font-sans",children:new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-8",children:aQ.map(a=>(0,b.jsxs)("div",{className:"bg-card rounded-xl p-4 sm:p-5 border border-border/50",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-xl ${a.bg} border flex items-center justify-center mb-3`,children:(0,b.jsx)(a.icon,{className:`w-5 h-5 ${a.color}`})}),(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:a.value}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:a.label})]},a.label))}),(0,b.jsx)("div",{className:"flex gap-1.5 sm:gap-2 mb-6 bg-muted/30 p-1.5 rounded-xl border border-border/30 overflow-x-auto",children:aR.map(a=>(0,b.jsxs)("button",{onClick:()=>v(a.key),className:`flex items-center gap-1.5 px-3 sm:px-5 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${u===a.key?"bg-primary text-primary-foreground shadow-md shadow-primary/20 font-sans":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[(0,b.jsx)(a.icon,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:a.label}),void 0!==a.count&&a.count>0&&(0,b.jsx)("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-[10px] font-bold ${u===a.key?"bg-primary-foreground/20 text-primary-foreground":"bg-primary/10 text-primary"}`,children:a.count})]},a.key))}),"categories"===u&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-card rounded-2xl p-5 sm:p-6 border border-border/50",children:[(0,b.jsxs)("h2",{className:"font-display text-base sm:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(P,{className:"w-4 h-4 text-primary"}),ae?"Edit Category":"Add Category"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground",children:"Name"}),(0,b.jsx)(i.Input,{value:ac.name,onChange:a=>ad(b=>({...b,name:a.target.value})),placeholder:"e.g. Biryani",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground",children:"Description"}),(0,b.jsx)(i.Input,{value:ac.description,onChange:a=>ad(b=>({...b,description:a.target.value})),placeholder:"Optional",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground",children:"Photo"}),(0,b.jsx)("input",{ref:av,type:"file",accept:"image/*",className:"hidden",onChange:async a=>{let b=a.target.files?.[0];if(!b)return;let c=await aC(b);c&&ad(a=>({...a,image_url:c}))}}),(0,b.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,b.jsxs)(h.Button,{type:"button",variant:"outline",className:"flex-1 gap-2 h-11 rounded-xl",onClick:()=>av.current?.click(),disabled:as,children:[as?(0,b.jsx)(E.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(J,{className:"w-4 h-4"}),as?"Uploading...":ac.image_url?"Change":"Upload"]}),ac.image_url&&(0,b.jsx)("img",{src:ac.image_url,alt:"",className:"w-11 h-11 rounded-xl object-cover border border-border"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,b.jsxs)(h.Button,{onClick:aD,className:"btn-premium rounded-xl",children:[ae?"Update":"Add"," Category"]}),ae&&(0,b.jsx)(h.Button,{variant:"outline",className:"rounded-xl",onClick:()=>{af(null),ad({name:"",description:"",image_url:""})},children:"Cancel"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:w.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-card rounded-xl p-4 border border-border/50 hover:border-primary/20 transition-colors",children:[a.image_url?(0,b.jsx)("img",{src:a.image_url,alt:a.name,className:"w-12 h-12 rounded-xl object-cover shrink-0"}):(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-muted flex items-center justify-center shrink-0",children:(0,b.jsx)(P,{className:"w-5 h-5 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm truncate",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:a.description||"No description"})]}),(0,b.jsxs)("div",{className:"flex gap-1.5 shrink-0",children:[(0,b.jsx)(h.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-primary/10",onClick:()=>{af(a.id),ad({name:a.name,description:a.description||"",image_url:a.image_url||""})},children:(0,b.jsx)(H,{className:"w-3.5 h-3.5"})}),(0,b.jsx)(h.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-destructive/10 text-destructive",onClick:()=>aE(a.id),children:(0,b.jsx)(I.Trash2,{className:"w-3.5 h-3.5"})})]})]},a.id))})]}),"items"===u&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(h.Button,{onClick:()=>{ar(!aq),ap(null)},className:aq?"rounded-xl":"btn-premium rounded-xl",children:aq?"Hide Form":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F.Plus,{className:"w-4 h-4 mr-1.5"})," Add Item"]})}),aq&&(0,b.jsxs)("div",{className:"bg-card rounded-2xl p-5 sm:p-6 border border-border/50",children:[(0,b.jsxs)("h2",{className:"font-display text-base sm:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(N.ChefHat,{className:"w-4 h-4 text-primary"}),ao?"Edit Item":"New Item"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Name *"}),(0,b.jsx)(i.Input,{value:ag.name,onChange:a=>ah(b=>({...b,name:a.target.value})),placeholder:"Chicken Biryani",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),ai?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground",children:"Half â‚¹ *"}),(0,b.jsx)(i.Input,{type:"number",value:ak,onChange:a=>al(a.target.value),placeholder:"63",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground",children:"Full â‚¹ *"}),(0,b.jsx)(i.Input,{type:"number",value:am,onChange:a=>an(a.target.value),placeholder:"126",className:"mt-1 h-11 rounded-xl bg-muted/30"})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Price (â‚¹) *"}),(0,b.jsx)(i.Input,{type:"number",value:ag.price,onChange:a=>ah(b=>({...b,price:a.target.value})),placeholder:"299",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Category *"}),(0,b.jsxs)("select",{value:ag.category_id,onChange:a=>ah(b=>({...b,category_id:a.target.value})),className:"w-full h-11 mt-1 rounded-xl border border-input bg-muted/30 px-3 text-sm",children:[(0,b.jsx)("option",{value:"",children:"Select category"}),w.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Photo"}),(0,b.jsx)("input",{ref:au,type:"file",accept:"image/*",className:"hidden",onChange:async a=>{let b=a.target.files?.[0];if(!b)return;let c=await aC(b);c&&ah(a=>({...a,image_url:c}))}}),(0,b.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,b.jsxs)(h.Button,{type:"button",variant:"outline",className:"flex-1 gap-2 h-11 rounded-xl",onClick:()=>au.current?.click(),disabled:as,children:[as?(0,b.jsx)(E.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(J,{className:"w-4 h-4"}),as?"Uploading...":ag.image_url?"Change":"Upload"]}),ag.image_url&&(0,b.jsx)("img",{src:ag.image_url,alt:"",className:"w-11 h-11 rounded-xl object-cover border border-border"})]})]}),(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Description"}),(0,b.jsx)(k.Textarea,{value:ag.description,onChange:a=>ah(b=>({...b,description:a.target.value})),placeholder:"Describe the dish...",className:"mt-1 rounded-xl bg-muted/30 min-h-[80px]"})]}),(0,b.jsxs)("div",{className:"sm:col-span-2 flex items-center gap-5 flex-wrap py-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C,{checked:ai,onCheckedChange:a=>{aj(a),a||(al(""),an(""))}}),(0,b.jsx)(j.Label,{className:"text-sm cursor-pointer",children:"Half / Full"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C,{checked:ag.is_veg,onCheckedChange:a=>ah(b=>({...b,is_veg:a}))}),(0,b.jsx)(j.Label,{className:"text-sm cursor-pointer",children:"Veg"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C,{checked:ag.is_available,onCheckedChange:a=>ah(b=>({...b,is_available:a}))}),(0,b.jsx)(j.Label,{className:"text-sm cursor-pointer",children:"Available"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-5",children:[(0,b.jsxs)(h.Button,{onClick:aF,className:"btn-premium rounded-xl px-6",children:[ao?"Update":"Add"," Item"]}),ao&&(0,b.jsx)(h.Button,{variant:"outline",className:"rounded-xl",onClick:()=>{ap(null),ar(!1)},children:"Cancel"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3",children:y.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-card rounded-xl p-3 sm:p-4 border border-border/50 hover:border-primary/20 transition-all group",children:[(0,b.jsx)("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl overflow-hidden shrink-0",children:a.image_url?(0,b.jsx)("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-muted flex items-center justify-center text-lg",children:"ðŸ½ï¸"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm truncate font-display",children:a.name}),a.is_veg?(0,b.jsx)("span",{className:"w-3.5 h-3.5 rounded-sm border-2 border-green-500 flex items-center justify-center shrink-0",children:(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})}):(0,b.jsx)("span",{className:"w-3.5 h-3.5 rounded-sm border-2 border-red-500 flex items-center justify-center shrink-0",children:(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"})})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["â‚¹",a.price," Â· ",w.find(b=>b.id===a.category_id)?.name||"N/A"]}),!a.is_available&&(0,b.jsx)("span",{className:"text-[10px] text-destructive font-medium",children:"Unavailable"})]}),(0,b.jsxs)("div",{className:"flex gap-1 shrink-0 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(h.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-primary/10",onClick:()=>{let b=a.name.replace(/\s*\((Half|Full)\)\s*/i,"").trim(),c=a.name.includes("(Half)")||a.name.includes("(Full)"),d=c?y.filter(c=>c.category_id===a.category_id&&c.name.replace(/\s*\((Half|Full)\)\s*/i,"").trim()===b&&(c.name.includes("(Half)")||c.name.includes("(Full)"))):[],e=d.find(a=>a.name.includes("(Half)")),f=d.find(a=>a.name.includes("(Full)"));ap(a.id),ah({name:c?b:a.name,description:a.description||"",price:c?"":String(a.price),category_id:a.category_id,image_url:a.image_url||"",is_veg:a.is_veg??!0,is_available:a.is_available??!0}),aj(c&&d.length>1),al(e?String(e.price):""),an(f?String(f.price):""),ar(!0)},children:(0,b.jsx)(H,{className:"w-3.5 h-3.5"})}),(0,b.jsx)(h.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-destructive/10 text-destructive",onClick:()=>aG(a.id),children:(0,b.jsx)(I.Trash2,{className:"w-3.5 h-3.5"})})]})]},a.id))})]}),"orders"===u&&(0,b.jsx)("div",{className:"space-y-3",children:0===A.length?(0,b.jsxs)("div",{className:"text-center py-20 font-sans",children:[(0,b.jsx)(O.ShoppingBag,{className:"w-12 h-12 mx-auto text-muted-foreground/20 mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No orders yet"})]}):A.map(a=>(0,b.jsxs)("div",{className:"bg-card rounded-xl p-4 sm:p-5 border border-border/50 hover:border-primary/10 transition-colors",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${"delivered"===a.status?"bg-green-500/10 border border-green-500/20":"cancelled"===a.status?"bg-red-500/10 border border-red-500/20":"bg-primary/10 border border-primary/20"}`,children:"delivered"===a.status?(0,b.jsx)(S,{className:"w-5 h-5 text-green-500"}):"cancelled"===a.status?(0,b.jsx)(I.Trash2,{className:"w-4 h-4 text-red-500"}):(0,b.jsx)(R.Clock,{className:"w-5 h-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-sm",children:["#",a.id.slice(0,8)]}),(0,b.jsx)("p",{className:"text-[11px] text-muted-foreground",children:new Date(a.created_at).toLocaleString("en-IN")})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-lg font-bold text-primary",children:["â‚¹",a.total_amount]}),(0,b.jsx)("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-1 rounded-lg ${"delivered"===a.status?"bg-green-500/10 text-green-400 font-sans":"cancelled"===a.status?"bg-red-500/10 text-red-400 font-sans":"preparing"===a.status?"bg-blue-500/10 text-blue-400 font-sans":"bg-primary/10 text-primary font-sans"}`,children:a.status})]})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mb-2",children:["ðŸ“ ",a.delivery_address]}),a.notes&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mb-2 italic",children:["ðŸ“ ",a.notes]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 items-center pt-2 border-t border-border/30",children:[["confirmed","preparing","out_for_delivery","delivered","cancelled"].map(c=>(0,b.jsx)(h.Button,{size:"sm",variant:a.status===c?"default":"outline",onClick:()=>aH(a.id,c),className:`capitalize text-[11px] h-7 px-2.5 rounded-lg ${a.status===c?"shadow-sm":""} font-sans`,children:c.replace(/_/g," ")},c)),(0,b.jsxs)(h.Button,{size:"sm",variant:"ghost",className:"text-destructive hover:bg-destructive/10 ml-auto h-7 px-2.5 rounded-lg text-[11px] font-sans",onClick:()=>{confirm("Delete this order?")&&aI(a.id)},children:[(0,b.jsx)(I.Trash2,{className:"w-3 h-3 mr-1"})," Delete"]})]})]},a.id))}),"access"===u&&!Y&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-card rounded-2xl p-5 sm:p-6 border border-border/50",children:[(0,b.jsxs)("h2",{className:"font-display text-base sm:text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(T,{className:"w-4 h-4 text-primary"}),"Create Access Code"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Label (who is it for) *"}),(0,b.jsx)(i.Input,{value:aa.label,onChange:a=>ab(b=>({...b,label:a.target.value})),placeholder:"e.g. Rahul Seller",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Password/Code *"}),(0,b.jsx)(i.Input,{value:aa.code,onChange:a=>ab(b=>({...b,code:a.target.value})),placeholder:"e.g. rahul123",className:"mt-1 h-11 rounded-xl bg-muted/30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-xs text-muted-foreground font-sans",children:"Valid for (hours)"}),(0,b.jsx)(i.Input,{type:"number",value:aa.hours,onChange:a=>ab(b=>({...b,hours:a.target.value})),placeholder:"24",className:"mt-1 h-11 rounded-xl bg-muted/30"})]})]}),(0,b.jsxs)(h.Button,{onClick:aL,className:"btn-premium rounded-xl mt-4",children:[(0,b.jsx)(F.Plus,{className:"w-4 h-4 mr-1.5"})," Create Code"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:$.map(a=>{let c=new Date(a.expires_at)<new Date,d=a.is_active&&!c;return(0,b.jsx)("div",{className:`bg-card rounded-xl p-4 border transition-colors ${d?"border-primary/20":"border-border/50 opacity-60"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm truncate",children:a.label}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mt-1",children:[(0,b.jsx)("code",{className:"text-xs bg-muted px-2 py-0.5 rounded-lg font-mono text-foreground",children:a.code}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(a.code),D.toast.success("Code copied!")},className:"text-muted-foreground hover:text-foreground",children:(0,b.jsx)(U,{className:"w-3 h-3"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-[11px] text-muted-foreground font-sans",children:[(0,b.jsx)(V,{className:"w-3 h-3"}),c?(0,b.jsx)("span",{className:"text-destructive font-medium",children:"Expired"}):(0,b.jsxs)("span",{children:["Expires: ",new Date(a.expires_at).toLocaleString("en-IN",{dateStyle:"short",timeStyle:"short"})]})]}),(0,b.jsx)("span",{className:`inline-block mt-1.5 text-[10px] px-2 py-0.5 rounded-lg font-semibold uppercase tracking-wider font-sans ${d?"bg-primary/10 text-primary":"bg-destructive/10 text-destructive"}`,children:d?"Active":c?"Expired":"Disabled"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5 shrink-0",children:[(0,b.jsx)(h.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-primary/10",onClick:()=>aN(a.id,a.is_active),children:a.is_active?(0,b.jsx)(L,{className:"w-3.5 h-3.5"}):(0,b.jsx)(K,{className:"w-3.5 h-3.5"})}),(0,b.jsx)(h.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg hover:bg-destructive/10 text-destructive",onClick:()=>aM(a.id),children:(0,b.jsx)(I.Trash2,{className:"w-3.5 h-3.5"})})]})]})},a.id)})})]})]})]})}a.s(["default",()=>X],96088)}];

//# sourceMappingURL=Music_ZoyaBitesKitchen_src_app_admin1122_page_tsx_d900c65c._.js.map